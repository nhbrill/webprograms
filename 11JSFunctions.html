<!--  Nate Brill -->
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>11 JS Functions</title>	
</head>
<body>

<ul>
<li>This file contains eleven function specifications, 11 function stubs, and a few console.asserts.</li>
<li>Use console.assert(boolean) to test and debug your JavaScript functions.</li>
<li>Use the console tool in Chromes's Developer Tools to find errors and failing asserts.</li>
<li>You can clear Chrome's console by right clicking on the console view.</li>
</ul>

<script>


/*
 * 12 JavaScript functions requiring functions, console.assert, 
 * selection, repetition, strings, and arrays. The code contains
 * a few asserts to show the syntax.  You should add  many more
 * asserts to tests.  It is important to be able to write your own tests.
 *
 * Programmer: Nate Brill
 */

// 1) howSwedish
// ABBA is a band, they have many songs including Dancing Queen, and
// Fernando. ABBA is actually a Swedish band, so if we wanted to find
// out howSwedish a String is, we could simply find out how many times
// the String contains the substring "abba". We want to look for this
// substring in a case insensitive manner. So "abba" counts, and so
// does "aBbA". We also want to check for overlapping abba's such as
// in the String "abbAbba" that contains "abba" twice.
//
// howSwedish("AbBa a b b a") returns 1
// howSwedish("abbabba!") returns 2
//
function howSwedish(str) {
  var count = 0;
  str = str.toUpperCase();
  for (var i = 0; i < str.length - 3; i++) {
    if (str.charAt(i) == 'A') {
      if (str.substring(i, i + 4) == "ABBA") {
        count ++;
      }
    }
  }
  return count;
}

// The following asserts will fail until howSwedish is fixed
console.assert ( 0 == howSwedish ( 'no' ) );
console.assert ( 0 == howSwedish ( '' ) );
console.assert ( 1 == howSwedish ( 'aBBa' ) );
console.assert ( 1 == howSwedish ( 'axxc AbBa Xx' ) );
console.assert ( 1 == howSwedish ( 'AbBa a b b a' ) );
console.assert ( 2 == howSwedish ( 'abbabba' ) );
console.assert ( 2 == howSwedish ( 'abbabba!' ) );
// Add more test cases



// 2) mirrorEnds
// Complete method mirrorEnds that given a string, looks for a mirror
// image (backwards) string at both the beginning and end of the given
// string.  In other words, zero or more characters at the very beginning
// of the given string, and at the very end of the string in reverse order 
// (possibly overlapping). For example, "abXYZba" has the mirror end "ab".
//
// mirrorEnds("") returns ""
// mirrorEnds("abcde") returns ""
// mirrorEnds("a") returns "a"
// mirrorEnds("abca") "a"
// mirrorEnds("abba") returns "abba"
// mirrorEnds("abBa")); returns "a". This is case sensitive 'b' != 'B'
//
function mirrorEnds(str) {
  rstr = str.split("").reverse().join("");
  var mirror = ""
  for (var i = 0; i < str.length; i++) {
    if (str.charAt(i) == rstr.charAt(i)) {
      mirror += str.charAt(i);
    } else {
      break;
    }
  }
  return mirror;
}
// Add at least 6 console.asserts
console.assert (mirrorEnds("") == "");
console.assert (mirrorEnds("abcde") == "");
console.assert (mirrorEnds("a") == "a");
console.assert (mirrorEnds("abca") == "a");
console.assert (mirrorEnds("abba") == "abba");
console.assert (mirrorEnds("abBa") == "a");
console.assert (mirrorEnds("abcba") == "abcba")


// 3) isStringSorted
// Given a String, return true if the letters are in ascending order.
// Note: 'a' < 'b', '5' < '8',  'B' < 'b', '1' < 'A' 
// isStringSorted("") returns true
// isStringSorted("a") returns true
// isStringSorted("abbcddef") returns true
// isStringSorted("123456") returns true
// isStringSorted("12321") returns false
//
function isStringSorted(str) {
  var sorted = true;
  for (var i = 0; i < str.length - 1; i++) {
    if (str.charAt(i) > str.charAt(i + 1)) {
      sorted = false;
    }
  }
  return sorted;
}
// Add at least 5 console.asserts
console.assert (isStringSorted("") == true);
console.assert (isStringSorted("a") == true);
console.assert (isStringSorted("abbcddef") == true);
console.assert (isStringSorted("123456") == true);
console.assert (isStringSorted("12321") == false);

// 4) maxBlock
// Given a string, return the length of the largest "block" in the string.
// A block is a run of adjacent chars that are the same.
// maxBlock("hoopla") returns 2
// maxBlock("abbCCCddBBBxx") returns 3
// maxBlock("") returns 0
// maxBlock("aA") returns 1  This is case sensitive 'a' != 'A'
//
function maxBlock(str) {
  var max = 0;
  for (var i = 0; i < str.length; i++) {
    var count = 0;
    for (var j = i; j < str.length; j++) {
      if (str.charAt(i) == str.charAt(j)) {
        count ++;
      }
    }
    if (count > max) {
      max = count;
    }
  } 
  return max;
}
// Add at least 6 console.asserts
console.assert (maxBlock("hoopla") == 2);
console.assert (maxBlock("abbCCCddBBBxx") == 3);
console.assert (maxBlock("") == 0);
console.assert (maxBlock("aA") == 1);
console.assert (maxBlock("qqq") == 3);
console.assert (maxBlock("abcde") == 1);

// 5) isArraySorted
// Given an array , return true if the elements are in ascending order.
// Note: 'abe' < 'ben', 5 > 3, 'Al' < 'aL', '12A' < '12B'
// Precondition arr has all the same type of elements
//
function isArraySorted(arr) {
  var sorted = true;
  for (var i = 0; i < arr.length - 1; i++) {
    if (arr[i] > arr[i + 1]) {
      sorted = false;
    }
  }
  return sorted;
}

// Feel free to use these asertions to test isArraySorted
console.assert(isArraySorted([1,2,3]))
console.assert(! isArraySorted([1,2,4,3]))
console.assert(isArraySorted([]))

console.assert(isArraySorted(['a', 'b', 'c']))
console.assert(isArraySorted(['a', 'a']))
console.assert(isArraySorted(['csadafvdz']))

console.assert(! isArraySorted(['a', 'B', 'c']))

console.assert(isArraySorted([1.01, 1.1, 1.11]))
console.assert(isArraySorted([1.1, 1.1, 1.1]))
console.assert(! isArraySorted([5.5, 5.499999]))

// 6) numberOfPairs
// Return the number of times a pair occurs in array. A pair is any two 
// String values that are equal (case sensitive) in consecutive array elements. 
// The array may be empty or have only one element. In both of these cases, return 0.
//
// numberOfPairs( ['a', 'b', 'c'] ) returns 0
// numberOfPairs( ['a', 'a', 'a'] ) returns 2
// assert(2 == numberOfPairs( ['a', 'a', 'b', 'b' ]) );
// numberOfPairs( [] ) returns 0
// numberOfPairs( ['a'] ) returns 0
// Precondition: arr has all the same type of elements
//
function numberOfPairs(arr) {
  var count = 0;
  for (var i = 0; i < arr.length - 1; i++) {
    if (arr[i] == arr[i + 1]) {
      count ++;
    }
  }
  return count;
}
// Add at least 6 console.asserts
console.assert(numberOfPairs( ['a', 'b', 'c'] ) == 0);
console.assert(numberOfPairs( ['a', 'a', 'a'] ) == 2);
console.assert(numberOfPairs( ['a', 'a', 'b', 'b' ]) == 2);
console.assert(numberOfPairs( [] ) == 0);
console.assert(numberOfPairs( ['a'] ) == 0);
console.assert(numberOfPairs( ['a', 'a', 'c', 'b', 'b' ]) == 2);
console.assert(numberOfPairs( ['0', 'true', '5.6',  '5.6', 'abcd', 'tru', 'tru'] ) == 2)


// 7) frequency(array)
// Given an  array of integers in the range of 0..10 (like quiz scores), return
// an array of 11 integers where the first value (at index 0) is the number of 0s
// in the array argument, the second value (at index 1) is the number of 1 in the 
// array and the 11th value (at index 10) is the number of tens in the array.
//
// Precondition: arr has valid ints in the range of 0..10
//
function frequency(arr) {
  var scores = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
  for (var i = 0; i < arr.length; i++) {
    scores[arr[i]] ++;
  }
  return scores;  // bogus return
}

// Feel free to use these two test cases. I supplied both to help 
//   further explain the problem you are trying to solve in frequency(array)

$arr = frequency([0, 1, 1, 8, 10, 10]);
console.assert($arr[0] == 1);
console.assert($arr[1] == 2);
console.assert($arr[5] == 0);
console.assert($arr[8] == 1);
console.assert($arr[10] == 2);

$arr = frequency([1, 3, 5, 5, 5, 5, 7, 9, 10, 10, 10, 10, 10, 10, 10]);
console.assert($arr[0] == 0);
console.assert($arr[1] == 1);
console.assert($arr[3] == 1);
console.assert($arr[5] == 4);
console.assert($arr[7] == 1);
console.assert($arr[8] == 0);
console.assert($arr[10] == 7);


// 8) shiftNTimes(array, numShifts)
//
// Modify the parameter array in this function so the same array referenced by
// the argument to this function is "left shifted" numShifts times.
// For example, an array argument [6, 2, 5, 3] with numShifts = 1, would have 
// the array argument modified to [2, 5, 3, 6]
//
// This test case that is provided to help explain the expected behavior:
// 
// x = [1, 2, 3, 4, 5]
// shiftNTimes(x, 2)
// console.assert(x[0] == 3);
// console.assert(x[1] == 4);
// console.assert(x[2] == 5);
// console.assert(x[3] == 1);
// console.assert(x[4] == 2);
//
// Precondition: numShifts > 0
//
function shiftNTimes(integerArray, numShifts) {
   for (var i = 0; i < numShifts; i++) {
    var move = integerArray[0];
    integerArray.splice(0, 1)
    integerArray.push(move);
   }
}
 // Add at least 6 console.asserts
x = [1, 2, 3, 4, 5]
shiftNTimes(x, 2)
console.assert(x[0] == 3);
console.assert(x[1] == 4);
console.assert(x[2] == 5);
console.assert(x[3] == 1);
console.assert(x[4] == 2);

y = [6, 2, 5, 3]
shiftNTimes(y, 4)
console.assert(y[0] == 6);
console.assert(y[1] == 2);
console.assert(y[2] == 5);
console.assert(y[3] == 3);

z = [0, 1]
shiftNTimes(z, 4)
console.assert(z[0] == 0);
console.assert(z[1] == 1);
 

// 9) addToSet
// Complete method addToSet(set, number) such that number is added
// at the end of the array parameter set only if it does not exist alreay.
//
// Precondition: each argument is alway a number.  No type mixing
//
function addToSet(set, number) {
  if (!set.includes(number)) {
    set.push(number);
  }
}
// Feel free to uncomment this test case and use it.  
set = [];
addToSet(set, 5)
addToSet(set, 4)
addToSet(set, 4)
addToSet(set, 3)
addToSet(set, 3)
addToSet(set, 2)
addToSet(set, 2)
console.assert(5 == set[0]);
console.assert(4 == set[1]);
console.assert(3 == set[2]);
console.assert(2 == set[3]);
console.assert(4 == set.length);




// 10)  Say that a "clump" in an array is a series of 2 or more adjacent elements of
// the same value. Return the number of clumps in the given array.
//
//  countClumps( [1, 2, 2, 3, 4, 4 ] ) returns 2
//  countClumps( [1, 1, 2, 1, 1 ] ) returns 2
//  countClumps( [1, 1, 1, 1, 1 ] ) returns 1
//  countClumps( [ 1, 2, 3] ) returns 0
//  countClumps( [ 2 ] ) returns 0
//
function countClumps(arr) {
  var clumps = 0;
  for (var i = 0; i < arr.length - 1; i++) {
    var clump = true;
    var value = arr[i];
    var count = 0;
    for (var j = i + 1; clump; j++) {
      if (arr[j] == value) {
        count ++;
        i ++;
      } else {
        clump = false;
      }
    }
    if (count > 0) {
      clumps ++;
    }
  }
  return clumps;
}
console.assert(0 == countClumps( [ 1, 2, 3] ));
console.assert(1 == countClumps( [ 1, 2, 2, 2, 2, 3] ));
// Add anther 4 console.asserts at least
console.assert(countClumps( [1, 2, 2, 3, 4, 4 ] ) == 2);
console.assert(countClumps( [1, 1, 2, 1, 1 ] ) == 2);
console.assert(countClumps( [1, 1, 1, 1, 1 ] ) == 1);
console.assert(countClumps( [ 1, 2, 3] ) == 0);
console.assert(countClumps( [ 2 ] ) == 0);



// 11) evenOdd(array)
//
// Modify array that contains the exact same numbers as the given array,
// but rearranged so that all the even numbers come before all the odd numbers.
//  Other than that, the numbers can be in any order.
//
// evenOdd([1, 0, 1, 0, 0, 1, 1]) changes the argument to [0, 0, 0, 1, 1, 1, 1]
// evenOdd([3, 3, 2]) changes the argument to [2, 3, 3]
// evenOdd([3, 5, 4, 2]) changes the argument to [2, 4, 3, 5] or [4, 2, 3, 5]
// or [2, 4, 5, 3] or [4, 2, 5, 3]
//
// Precondition: All array elements are integers, whole nmbers with no fractional part
//
function evenOdd(array) {
  // TODO: Complete this function
  var index = array.length;
  for (var i = 0; i < index; i++) {
    if (array[i] % 2 == 0) {
      var value = array[i];
      array.splice(i, 1);
      array.unshift(value);
    } else {
      var value = array[i];
      array.splice(i, 1);
      array.push(value);
    }
  }
}
// You may use this test case
var array = [3, -2, -3, 2];
evenOdd(array);
console.assert(array[0] % 2 == 0);
console.assert(array[1] % 2 == 0);
console.assert(array[2] != 0);
console.assert(array[3] != 0);
// Add one more test case checking the leftmost elements % 2 == 0 and the rightmost elements % 2 != 0
var array2 = [1, 2, 3, 4];
evenOdd(array2);
console.assert(array2[0] % 2 == 0);
console.assert(array2[1] % 2 == 0);
console.assert(array2[2] != 0);
console.assert(array2[3] != 0);

</script>

</body>
</html>
